import{_ as v}from"./el-message-ByxEUhkq.js";import{k as y,u as b,r,c as h,o as k,d as i,e as g,s as e,v as F,T as w,A as B,f as s,p as N,F as M,a4 as m,a7 as S,X as T}from"./index-C1Fbz9gn.js";/* empty css                  */const U=s("div",{class:"w-full font-black justify-between items-center flex text-[48px] text-[white]"},[s("div",{class:"w-[26px] h-[26px]"}),s("div",{class:"text-[24px] text-center"},"編輯個人資料"),s("div",{class:"w-[26px] h-[26px]"})],-1),V={class:"p-[20px]"},E={__name:"profile",setup(I){const p=y(),t=b(),o=r({displayName:t==null?void 0:t.userName}),n=r(!1),f=h(()=>[{name:"displayName",label:"名稱",type:"text",cssStyle:!0,rules:[{required:!0,message:"必填"}]}]),d=()=>{n.value=!0,S(o.value).then(a=>{a.status===200&&(T({message:"更新成功",type:"success",plain:!0}),x(o.value))}).finally(()=>{n.value=!1})},x=a=>{t.syncUserInfo(a)},l=r(!1);return k(()=>{l.value=!0}),(a,c)=>{var u;const _=v;return i(),g(M,null,[e(l)&&!((u=e(p))!=null&&u.menuIsOpen)?(i(),F(w,{key:0,to:"#header-slot"},[U])):B("",!0),s("div",V,[N(_,{ref:"formHook",fields:e(f),parentForm:e(o),submitText:"更新",submitting:e(n),onSubmitFn:c[0]||(c[0]=$=>d())},null,8,["fields","parentForm","submitting"])])],64)}}};typeof m=="function"&&m(E);export{E as default};
