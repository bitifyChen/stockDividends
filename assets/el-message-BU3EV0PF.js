import{b1 as $,_ as N,r as k,c as F,w as P,ab as H,b2 as I,d as l,e as c,n as h,v as r,q as y,F as x,z as g,p as U,aL as R,f as S,y as T,A as m,h as C,x as j,b3 as z,aK as L,b4 as G,b5 as K,b6 as Z,b7 as J,b8 as Q,b9 as W,aM as X,ba as Y}from"./index-DS7vc0SP.js";/* empty css                  */const ee=(v,_,s="msg",o="确认",n="取消")=>new Promise((d,t)=>{$.confirm(v,_,{confirmButtonText:o,cancelButtonText:n,center:!0,customClass:s}).then(()=>d(!0)).catch(()=>t(!1))}),ae=["placeholder","readonly","disabled"],le={__name:"TwoElDatePicker",props:{modelValue:{type:String,default:null},placeholder:{type:String,default:""},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(v,{emit:_}){const s=v,o=_,n=k(""),d=()=>{o("update:modelValue",t.value)},t=F(()=>{if(!n.value)return null;const i=new Date(n.value),u=8*60;return i.setMinutes(i.getMinutes()+u),i.toISOString().split("T")[0]});return P(()=>s.modelValue,()=>{n.value=s.modelValue?s.modelValue:null},{immediate:!0}),(i,u)=>H((l(),c("input",{type:"date","onUpdate:modelValue":u[0]||(u[0]=V=>n.value=V),class:h(["time-input",[s.readonly?"is-readonly":""]]),placeholder:s.placeholder,readonly:s.readonly,disabled:s.disabled,onChange:d,onClick:u[1]||(u[1]=V=>V.currentTarget.showPicker())},null,42,ae)),[[I,n.value]])}},te=N(le,[["__scopeId","data-v-23385c63"]]),oe={class:"show-unit"},se={class:"col-span-12"},ne={key:0,class:"submit col-span-12 flex pb-[20px]"},de={__name:"TwoDynamicForm",props:{fields:{type:Array,required:!0},parentForm:{type:Object,required:!0},rules:{type:Object,default:()=>{}},submitHide:{type:Boolean,default:!1},submitting:{type:Boolean,default:!1},submitAlert:{type:String,required:!1},submitText:{type:String,default:""},isHideAsterisk:{type:Boolean,default:!0}},emits:["submitFn"],setup(v,{expose:_,emit:s}){const o=v,n=s,d=k(null),t=F(()=>o.parentForm),i=k(0);k(!1),F(()=>i.value?i.value:"取得驗證碼");const u=p=>{p&&p.validate(b=>{if(b)o.submitAlert?ee(o.submitAlert,()=>n("submitFn")):n("submitFn");else return!1})};return _({resetFormMethod:()=>{d.value.resetFields()},validateFormMethod:()=>new Promise((p,b)=>{d.value.validate(w=>{w?p():b()})})}),(p,b)=>{const w=L,B=G,E=K,M=Z,f=J,O=Q,D=W,A=X,q=Y;return l(),r(q,{ref_key:"ruleFormRef",ref:d,model:t.value,rules:o.rules,onSubmit:z(u,["prevent"]),class:"setting-base-form-use grid grid-cols-12","hide-required-asterisk":o.isHideAsterisk},{default:y(()=>[(l(!0),c(x,null,g(o.fields,e=>(l(),c("div",{key:e.name,class:h(["max-xl:!col-span-12",[e.col?`col-span-${e.col}`:"col-span-12"]])},[U(D,{label:e.label,prop:e.name,rules:e.rules,class:"setting-form-item flex flex-col items-start"},{default:y(()=>[e.type==="text"||e.type==="password"||e.type==="number"||e.type==="textarea"?(l(),r(w,{key:0,modelValue:t.value[e.name],"onUpdate:modelValue":a=>t.value[e.name]=a,type:e.type,placeholder:e.placeholder?e.placeholder:"","show-password":e.type==="password",class:h([[e.readonly?"is-readonly":""],"h-[48px] flex-1"]),readonly:e.readonly},R({_:2},[e.unit?{name:"append",fn:y(()=>[S("div",oe,T(e.unit),1)]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue","type","placeholder","show-password","class","readonly"])):m("",!0),e.type==="select"&&!e.multiple?(l(),r(E,{key:1,modelValue:t.value[e.name],"onUpdate:modelValue":a=>t.value[e.name]=a,class:"flex-1",placeholder:e.placeholder?e.placeholder:""},{default:y(()=>[(l(!0),c(x,null,g(e.selectOption,a=>(l(),r(B,{label:a.label,value:a.value,key:a.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):m("",!0),e.type==="select"&&e.multiple?(l(),r(E,{key:2,modelValue:t.value[e.name],"onUpdate:modelValue":a=>t.value[e.name]=a,multiple:"","collapse-tags":!e.readonly,"collapse-tags-tooltip":!e.readonly,disabled:e.readonly,class:"flex-1",placeholder:e.placeholder?e.placeholder:""},{default:y(()=>[(l(!0),c(x,null,g(e.selectOption,a=>(l(),r(B,{label:a.label,value:a.value,key:a.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","collapse-tags","collapse-tags-tooltip","disabled","placeholder"])):m("",!0),e.type==="radio"?(l(),r(f,{key:3,modelValue:t.value[e.name],"onUpdate:modelValue":a=>t.value[e.name]=a,disabled:e.readonly,class:"flex-1"},{default:y(()=>[(l(!0),c(x,null,g(e.selectOption,a=>(l(),r(M,{label:a.label,value:a.value,key:a.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])):m("",!0),e.type==="switch"?(l(),r(O,{key:4,modelValue:t.value[e.name],"onUpdate:modelValue":a=>t.value[e.name]=a,disabled:e.readonly,class:"flex-1","inline-prompt":"","active-icon":p.Check,"inactive-icon":p.Close},null,8,["modelValue","onUpdate:modelValue","disabled","active-icon","inactive-icon"])):m("",!0),e.type==="date"?(l(),r(te,{key:5,modelValue:t.value[e.name],"onUpdate:modelValue":a=>t.value[e.name]=a,type:"date",class:"flex-1",placeholder:e.placeholder?e.placeholder:"",readonly:e.readonly},null,8,["modelValue","onUpdate:modelValue","placeholder","readonly"])):m("",!0),e.slot?(l(),c("div",{key:6,class:h(["flex-1",[e.slotClassName]])},[C(p.$slots,e.slot)],2)):m("",!0)]),_:2},1032,["label","prop","rules"])],2))),128)),S("div",se,[C(p.$slots,"bottom")]),o.submitHide?m("",!0):(l(),c("div",ne,[U(A,{onClick:b[0]||(b[0]=e=>u(d.value)),class:h(["ml-auto mr-auto !h-[48px] w-auto !rounded-[7px] text-[16px]",o.submitText?"btn-submit":""]),loading:o.submitting},{default:y(()=>[j(T(o.submitText||"送出"),1)]),_:1},8,["class","loading"])]))]),_:3},8,["model","rules","hide-required-asterisk"])}}};export{de as _};
