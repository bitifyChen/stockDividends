import{b1 as N,_ as P,r as k,c as w,w as H,d as l,e as p,p as F,n as h,b2 as I,v as r,q as y,F as V,z as x,aL as R,f as C,y as M,A as c,h as T,x as j,b3 as z,aK as L,b4 as G,b5 as K,b6 as Z,b7 as J,b8 as Q,b9 as W,aM as X,ba as Y}from"./index-C3fqIUeJ.js";/* empty css                  */const ee=(b,v,s="msg",o="确认",n="取消")=>new Promise((d,t)=>{N.confirm(b,v,{confirmButtonText:o,cancelButtonText:n,center:!0,customClass:s}).then(()=>d(!0)).catch(()=>t(!1))}),ae={class:"el-date-picker"},le={__name:"TwoElDatePicker",props:{modelValue:{type:String,default:null},placeholder:{type:String,default:""},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(b,{emit:v}){const s=b,o=v,n=k(""),d=()=>{o("update:modelValue",t.value)},t=w(()=>{if(!n.value)return null;const m=new Date(n.value),i=8*60;return m.setMinutes(m.getMinutes()+i),m.toISOString().split("T")[0]});return H(()=>s.modelValue,()=>{n.value=s.modelValue?new Date(s.modelValue):null},{immediate:!0}),(m,i)=>{const B=I;return l(),p("div",ae,[F(B,{modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=E=>n.value=E),class:h([s.readonly?"is-readonly":""]),type:"date",placeholder:s.placeholder,onChange:d,readonly:s.readonly,disabled:s.disabled},null,8,["modelValue","class","placeholder","readonly","disabled"])])}}},te=P(le,[["__scopeId","data-v-1a017cc1"]]),oe={class:"show-unit"},se={class:"col-span-12"},ne={key:0,class:"submit col-span-12 flex pb-[20px]"},de={__name:"TwoDynamicForm",props:{fields:{type:Array,required:!0},parentForm:{type:Object,required:!0},rules:{type:Object,default:()=>{}},submitHide:{type:Boolean,default:!1},submitting:{type:Boolean,default:!1},submitAlert:{type:String,required:!1},submitText:{type:String,default:""},isHideAsterisk:{type:Boolean,default:!0}},emits:["submitFn"],setup(b,{expose:v,emit:s}){const o=b,n=s,d=k(null),t=w(()=>o.parentForm),m=k(0);k(!1),w(()=>m.value?m.value:"取得驗證碼");const i=u=>{u&&u.validate(_=>{if(_)o.submitAlert?ee(o.submitAlert,()=>n("submitFn")):n("submitFn");else return!1})};return v({resetFormMethod:()=>{d.value.resetFields()},validateFormMethod:()=>new Promise((u,_)=>{d.value.validate(g=>{g?u():_()})})}),(u,_)=>{const g=L,U=G,S=K,f=Z,D=J,O=Q,A=W,q=X,$=Y;return l(),r($,{ref_key:"ruleFormRef",ref:d,model:t.value,rules:o.rules,onSubmit:z(i,["prevent"]),class:"setting-base-form-use grid grid-cols-12","hide-required-asterisk":o.isHideAsterisk},{default:y(()=>[(l(!0),p(V,null,x(o.fields,e=>(l(),p("div",{key:e.name,class:h(["max-xl:!col-span-12",[e.col?`col-span-${e.col}`:"col-span-12"]])},[F(A,{label:e.label,prop:e.name,rules:e.rules,class:"setting-form-item flex flex-col items-start"},{default:y(()=>[e.type==="text"||e.type==="password"||e.type==="number"||e.type==="textarea"?(l(),r(g,{key:0,modelValue:t.value[e.name],"onUpdate:modelValue":a=>t.value[e.name]=a,type:e.type,placeholder:e.placeholder?e.placeholder:"","show-password":e.type==="password",class:h([[e.readonly?"is-readonly":""],"h-[48px] flex-1"]),readonly:e.readonly},R({_:2},[e.unit?{name:"append",fn:y(()=>[C("div",oe,M(e.unit),1)]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue","type","placeholder","show-password","class","readonly"])):c("",!0),e.type==="select"&&!e.multiple?(l(),r(S,{key:1,modelValue:t.value[e.name],"onUpdate:modelValue":a=>t.value[e.name]=a,class:"flex-1",placeholder:e.placeholder?e.placeholder:""},{default:y(()=>[(l(!0),p(V,null,x(e.selectOption,a=>(l(),r(U,{label:a.label,value:a.value,key:a.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):c("",!0),e.type==="select"&&e.multiple?(l(),r(S,{key:2,modelValue:t.value[e.name],"onUpdate:modelValue":a=>t.value[e.name]=a,multiple:"","collapse-tags":!e.readonly,"collapse-tags-tooltip":!e.readonly,disabled:e.readonly,class:"flex-1",placeholder:e.placeholder?e.placeholder:""},{default:y(()=>[(l(!0),p(V,null,x(e.selectOption,a=>(l(),r(U,{label:a.label,value:a.value,key:a.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","collapse-tags","collapse-tags-tooltip","disabled","placeholder"])):c("",!0),e.type==="radio"?(l(),r(D,{key:3,modelValue:t.value[e.name],"onUpdate:modelValue":a=>t.value[e.name]=a,disabled:e.readonly,class:"flex-1"},{default:y(()=>[(l(!0),p(V,null,x(e.selectOption,a=>(l(),r(f,{label:a.label,value:a.value,key:a.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])):c("",!0),e.type==="switch"?(l(),r(O,{key:4,modelValue:t.value[e.name],"onUpdate:modelValue":a=>t.value[e.name]=a,disabled:e.readonly,class:"flex-1","inline-prompt":"","active-icon":u.Check,"inactive-icon":u.Close},null,8,["modelValue","onUpdate:modelValue","disabled","active-icon","inactive-icon"])):c("",!0),e.type==="date"?(l(),r(te,{key:5,modelValue:t.value[e.name],"onUpdate:modelValue":a=>t.value[e.name]=a,type:"date",class:"flex-1",placeholder:e.placeholder?e.placeholder:"",readonly:e.readonly},null,8,["modelValue","onUpdate:modelValue","placeholder","readonly"])):c("",!0),e.slot?(l(),p("div",{key:6,class:h(["flex-1",[e.slotClassName]])},[T(u.$slots,e.slot)],2)):c("",!0)]),_:2},1032,["label","prop","rules"])],2))),128)),C("div",se,[T(u.$slots,"bottom")]),o.submitHide?c("",!0):(l(),p("div",ne,[F(q,{onClick:_[0]||(_[0]=e=>i(d.value)),class:h(["ml-auto mr-auto !h-[48px] w-auto !rounded-[7px] text-[16px]",o.submitText?"btn-submit":""]),loading:o.submitting},{default:y(()=>[j(M(o.submitText||"送出"),1)]),_:1},8,["class","loading"])]))]),_:3},8,["model","rules","hide-required-asterisk"])}}};export{de as _};
