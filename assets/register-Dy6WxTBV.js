import{a as p,r as l,h as d,o as f,b as _,c as n,A as r,f as o,w as g,R as i,E as a,Y as y,Z as x,e as v}from"./index-Ds7PqTxV.js";import{_ as b}from"./el-message-DLLs8HTQ.js";const h={class:"p-[20px] w-full"},w=o("div",{class:"font-black text-[48px] text-[var(--main-primary-color)]"},[o("div",{class:"text-center"},"Stock!")],-1),k={class:"flex justify-end"},S={__name:"register",setup(F){const c=p(()=>[{name:"email",label:"帳號(電子信箱)",type:"text",cssStyle:!0,rules:[{required:!0,message:"帐号为必填项"}]},{name:"password",label:"密碼",type:"password",cssStyle:!0,rules:[{required:!0,message:"密码为必填项"}]},{name:"rePassword",label:"確認密码",type:"password",cssStyle:!0,rules:[{required:!0,message:"密码为必填项"}]}]),e=l({}),s=l(!1),u=()=>{if(e.value.password!==e.value.rePassword)return a({message:"兩次輸入的密碼不相同",type:"error",plain:!0});s.value=!0,y(e.value).then(t=>{a({message:"註冊成功",type:"success",plain:!0}),x.push({path:"/login"})}).catch(t=>{a({message:t.message,type:"error",plain:!0})}).finally(()=>{s.value=!1})};return(t,q)=>{const m=d("router-link");return f(),_("div",h,[w,n(b,{fields:r(c),parentForm:r(e),submitting:r(s),submitText:"註冊",onSubmitFn:u,class:"form"},null,8,["fields","parentForm","submitting"]),o("div",k,[n(m,{to:"/login",class:"text-[var(--main-primary-color)]"},{default:g(()=>[v("有帳號嗎，前往登入")]),_:1})])])}}};typeof i=="function"&&i(S);export{S as default};
