import{_ as f,g as x}from"./el-message-Crxuazk6.js";import{_ as g,y as h,z as k,c as v,r as c,q as y,h as b,s as w,e as r,u as a,t as o,k as S,v as l,E as I,l as B,A as F,B as q}from"./index-CtV2DNCl.js";const C=e=>(F("data-v-dc2753ac"),e=e(),q(),e),E={class:"p-[20px] w-full"},N=C(()=>o("div",{class:"font-black text-[48px] text-white"},[o("div",{class:"text-center"},"Stock!")],-1)),V={class:"flex justify-end"},i={__name:"login",setup(e){const u=h(),d=k(["token"]),p=v(()=>[{name:"username",label:"帳號",type:"text",cssStyle:!0,rules:[{required:!0,message:"帐号为必填项"}]},{name:"password",label:"密碼",type:"password",cssStyle:!0,rules:[{required:!0,message:"密码为必填项"}]}]),n=c({}),s=c(!1),_=()=>{s.value=!0,x(n.value).then(t=>{t.status===200&&(I({message:"登入成功",type:"success",plain:!0}),d.set("token",t.data.token),u.push({name:"IndexPage"}))}).finally(()=>{s.value=!1})};return(t,M)=>{const m=y("router-link");return b(),w("div",E,[N,r(f,{submitting:a(s),fields:a(p),parentForm:a(n),submitText:"登入",onSubmitFn:_,class:"form"},null,8,["submitting","fields","parentForm"]),o("div",V,[r(m,{to:"/register",class:"text-white"},{default:S(()=>[B("沒有帳號嗎，前往註冊")]),_:1})])])}}};typeof l=="function"&&l(i);const z=g(i,[["__scopeId","data-v-dc2753ac"]]);export{z as default};
