import{g}from"./user-n3REXuRf.js";import{_ as x}from"./el-message-Bnacjm6q.js";import{_ as h,M as b,A as k,a as v,r as c,f as y,o as w,b as S,c as l,x as a,h as r,w as I,B as i,E as o,e as B,N as F,O as N}from"./index-D18zpCDV.js";const C=e=>(F("data-v-b091bc27"),e=e(),N(),e),E={class:"p-[20px] w-full"},M=C(()=>r("div",{class:"font-black text-[48px] text-white"},[r("div",{class:"text-center"},"Stock!")],-1)),V={class:"flex justify-end"},u={__name:"login",setup(e){const p=b(),d=k(["token"]),m=v(()=>[{name:"username",label:"帳號",type:"text",cssStyle:!0,rules:[{required:!0,message:"帐号为必填项"}]},{name:"password",label:"密碼",type:"password",cssStyle:!0,rules:[{required:!0,message:"密码为必填项"}]}]),n=c({}),t=c(!1),_=()=>{t.value=!0,g(n.value).then(s=>{s.status===200?(o({message:"登入成功",type:"success",plain:!0}),d.set("token",s.data.token),p.push({name:"IndexPage"})):o({message:"帳號或密碼錯誤",type:"error",plain:!0})}).catch(s=>{o({message:"網路問題，請稍後再試",type:"error",plain:!0})}).finally(()=>{t.value=!1})};return(s,q)=>{const f=y("router-link");return w(),S("div",E,[M,l(x,{submitting:a(t),fields:a(m),parentForm:a(n),submitText:"登入",onSubmitFn:_,class:"form"},null,8,["submitting","fields","parentForm"]),r("div",V,[l(f,{to:"/register",class:"text-white"},{default:I(()=>[B("沒有帳號嗎，前往註冊")]),_:1})])])}}};typeof i=="function"&&i(u);const O=h(u,[["__scopeId","data-v-b091bc27"]]);export{O as default};
